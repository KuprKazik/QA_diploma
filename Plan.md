# 1.Перечень автоматизированных сценариев

**Сценарий 1. Валидные данные**

Заполнение валидными данными страницы "Оплата по карте"/"Кредит по данным карты"

1) Открыть страницу по адресу http://localhost:8080/, отобразились название, картинка, кнопки с покупкой
2) Нажать "Купить", выпала форма для заполнения данных
3) Ввод в поле "Номер карты" 16 цифр: 4444 4444 4444 4441
4) Ввод в поле "Месяц" чисел от 01 до 12 включительно
5) Ввод в поле "Год" чисел от 25 включительно
6) Ввод в поле "Владелец" имени и фамилии через пробел на латинском языке заглавными буквами
7) Ввод в поле "CVC/CVV" 3 цифры
8) Нажать продолжить
9) Отобразилось уведомление об успешной отправке

**Сценарий 2. Позитивные сценарии и проверка записи статусов в базы данных**

1) Оплата тура с валидной картой со статусом “APPROVED” в форме "Оплата по карте": 
Номер карты: 4444 4444 4444 4441. Остальные данные валидные. Нажать продолжить. 
Ожидаемый результат: отображение сообщения об успешной отправке, запись со статусом “APPROVED” в базе данных MySQL.
2) Оплата тура с валидной картой со статусом “APPROVED” в форме "Оплата по карте": 
Номер карты: 4444 4444 4444 4441. Остальные данные валидные. Нажать продолжить. 
Ожидаемый результат: отображение сообщения об успешной отправке, запись со статусом “APPROVED” в базе данных PostgreSQL.
3) Оплата тура с валидной картой со статусом “APPROVED” в форме "Кредит по данным карты":
Номер карты: 4444 4444 4444 4441. Остальные данные валидные. Нажать продолжить.
Ожидаемый результат: отображение сообщения об успешной отправке, запись со статусом “APPROVED” в базе данных MySQL.
4) Оплата тура с валидной картой со статусом “APPROVED” в форме "Кредит по данным карты":
Номер карты: 4444 4444 4444 4441. Остальные данные валидные. Нажать продолжить.
Ожидаемый результат: отображение сообщения об успешной отправке, запись со статусом “APPROVED” в базе данных PostgreSQL.
5) Оплата тура с невалидной картой со статусом "DECLINED" в форме "Оплата по карте":
Номер карты: 4444 4444 4444 4442. Остальные данные валидные. Нажать продолжить.
Ожидаемый результат: отображение сообщения об ошибке, запись со статусом "DECLINED" в базе данных MySQL.
6) Оплата тура с невалидной картой со статусом "DECLINED" в форме "Оплата по карте":
Номер карты: 4444 4444 4444 4442. Остальные данные валидные. Нажать продолжить.
Ожидаемый результат: отображение сообщения об ошибке, запись со статусом "DECLINED" в базе данных PostgreSQL.
7) Оплата тура с невалидной картой со статусом "DECLINED" в форме "Кредит по данным карты":
Номер карты: 4444 4444 4444 4442. Остальные данные валидные. Нажать продолжить.
Ожидаемый результат: отображение сообщения об ошибке, запись со статусом "DECLINED" в базе данных MySQL.
8) Оплата тура с невалидной картой со статусом "DECLINED" в форме "Кредит по данным карты":
Номер карты: 4444 4444 4444 4442. Остальные данные валидные. Нажать продолжить.
Ожидаемый результат: отображение сообщения об ошибке, запись со статусом "DECLINED" в базе данных PostgreSQL.

   
**Сценарий 3. Негативные сценарии**

*Предусловие: открыть страницу по адресу http://localhost:8080/*

ВАЛИДАЦИЯ ПОЛЕЙ РАЗДЕЛА "ОПЛАТА ПО КАРТЕ"

*Предусловие: Нажать кнопку "Купить"*

1. Валидация поля "Номер карты"

1) Ввести 15 цифр: 1111 1111 1111 111. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" внизу поля.
2) Ввести 17 цифр: 1111 1111 1111 11111. Ожидаемый результат: Вводится 16 цифр.
3) Оставить поле пустым. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" внизу поля.
4) Ввести буквы и спецсимволы. Ожидаемый результат: Ввод букв и спецсимволов невозможен.

2. Валидация поля "Месяц"

1) Ввести месяц: 00. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверно указан срок действия карты" внизу поля.
2) Ввести месяц: 13. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверно указан срок действия карты" внизу поля.
3) Оставить поле пустым. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" внизу поля.
4) Ввести буквы и спецсимволы. Ожидаемый результат: Ввод букв и спецсимволов невозможен.
5) Ввести месяц 01, год 25. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверно указан срок действия карты" под полем Месяц.

3. Валидация поля "Год"

1) Ввести год: 24. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Истёк срок действия карты" внизу поля.
2) Оставить поле пустым. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" внизу поля.
3) Ввести буквы и спецсимволы. Ожидаемый результат: Ввод букв и спецсимволов невозможен.

4. Валидация поля "Владелец"

1) Ввести владельца: ИВАН ПЕТРОВ. Ожидаемый результат: Невозможно ввести русские буквы.
2) Ввести владельца: ivan petrov. Ожидаемый результат: Произошло автоформатирование и буквы автоматически приняли верхний регистр.
3) Ввести владельца: IVANPETROV. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" внизу поля.
4) Ввести цифры и спецсимволы. Ожидаемый результат: Невозможно ввести цифры и спецсимволы.
5) Оставить поле пустым. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Поле обязательно для заполнения" внизу поля.

5. Валидация поля "СVC/CVV"

1) Ввести CVC код: 11. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" под полем "CVC/CVV".
2) Ввести CVC код: 1111. Ожидаемый результат: Вводится 3 цифры.
3) Ввести буквы и спецсимволы. Ожидаемый результат: Ввод букв и спецсимволов невозможен.
4) Оставить поле пустым. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" внизу поля.

ВАЛИДАЦИЯ ПОЛЕЙ РАЗДЕЛА "КРЕДИТ ПО ДАННЫМ КАРТЫ"

*Предусловие: Нажать кнопку "Купить в кредит"*

1. Валидация поля "Номер карты"

1) Ввести 15 цифр: 1111 1111 1111 111. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" внизу поля.
2) Ввести 17 цифр: 1111 1111 1111 11111. Ожидаемый результат: Вводится 16 цифр.
3) Оставить поле пустым. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" внизу поля. 
4) Ввести буквы и спецсимволы. Ожидаемый результат: Ввод букв и спецсимволов невозможен.

2. Валидация поля "Месяц"

1) Ввести месяц: 00. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверно указан срок действия карты" внизу поля.
2) Ввести месяц: 13. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверно указан срок действия карты" внизу поля.
3) Оставить поле пустым. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" внизу поля.
4) Ввести буквы и спецсимволы. Ожидаемый результат: Ввод букв и спецсимволов невозможен.
5) Ввести месяц 01, год 25. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверно указан срок действия карты" под полем Месяц.

3. Валидация поля "Год"

1) Ввести год: 24. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Истёк срок действия карты" внизу поля.
2) Оставить поле пустым. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" внизу поля.
3) Ввести буквы и спецсимволы. Ожидаемый результат: Ввод букв и спецсимволов невозможен.

4. Валидация поля "Владелец"

1) Ввести владельца: ИВАН ПЕТРОВ. Ожидаемый результат: Невозможно ввести русские буквы.
2) Ввести владельца: ivan petrov. Ожидаемый результат: Произошло автоформатирование и буквы автоматически приняли верхний регистр.
3) Ввести владельца: IVANPETROV. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" внизу поля.
4) Ввести цифры и спецсимволы. Ожидаемый результат: Невозможно ввести цифры и спецсимволы.
5) Оставить поле пустым. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Поле обязательно для заполнения" внизу поля.

5. Валидация поля "СVC/CVV"

1) Ввести CVC код: 11. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" под полем "CVC/CVV".
2) Ввести CVC код: 1111. Ожидаемый результат: Вводится 3 цифры.
3) Ввести буквы и спецсимволы. Ожидаемый результат: Ввод букв и спецсимволов невозможен.
4) Оставить поле пустым. Остальные данные валидные. Нажать продолжить.
   Ожидаемый результат: Появление красной надписи "Неверный формат" внизу поля.


# 2.Перечень используемых инструментов с обоснованием выбора

Язык программирования - Java
Фреймворк для управления взаимодействия с браузером - Selenide
Библиотека для запуска автотестов - JUnit5
Фреймворк для создания отчетов - Allure

Среда разработки:
1) Intellij IDEA - создание проекта, формирование отчетности.
2) Docker Desktop - создание необходимых контейнеров с СУБД (MySQL, PostgreSQL), запуск gate-simulator.
3) DevTools - тестирование API, поиск селекторов.
4) DBeaver - работа с SQL-запросами в СУБД.
5) GIT - удаленный репозиторий.

# 3.Перечень и описание возможных рисков при автоматизации

1) Недооценивание времени и усилий, затраченных на автоматизацию тестирования (большое кол-во багов, что влечет за собой много issues).
2) Не все проверки могут быть автоматизированы (например, проверка информации, сохраняемой в СУБД приложения, некоторые тесты).
3) Прогон автотестов на эмуляторе, а не на реальном банковском сервисе (могут быть неэффективны в реальности).
4) Отсутствие тестовых меток при поиске элементов на странице (определение селектора).
5) Изменение структуры API банка во время разработки автоматизированных тестовых сценариев (может привести к несовместимости тестов).

# 4.Интервальная оценка с учетом риска в часах

Среднее время на разработку и выполнение одного теста = 20 минут (*50 тестов)

Заведение баг-репорта на каждый дефект = 25 минут (* 14 багов)

Учет возможных дополнительных затрат времени и рисков (подготовка среды тестирования, подготовка сборок) = 300 минут

Другие непредвиденные проблемы = 400 минут

***Суммарная оценка = 34,1 часа***

# 5.План сдачи работ (готовность автотестов, результаты их прогона)

Готовность автотестов - к 19 января

Результаты прогона - к 21 января

Отчет по автоматизации - к 22 января

